function setProduct(n,t){buildID=t;getPrimaryLanguages();productToInstall=n;$("#productSpan").text(n);showModal("primaryLanguageModal")}function setVersion(n){versionToInstall=n;$("#versionSpan").text(n)}function setPrimaryLanguage(){primaryLanguage=$("input[name=radio1]:checked").attr("id");getLanguages();showModal("languageModal")}function setLanguage(){var n=null,t;if(languages=null,n=$(".languageCheckBox:checked"),$("#languageSpan").text(""),$("#languageSpan").text(languageDictionary[primaryLanguage]),n.length>=1)for(languages=[n[0].id],t=0;t<n.length;t++)languages[t]=n[t].id,$("#languageSpan").append(", "+languageDictionary[n[t].id]);showModal("confirmationModal")}function buildQueryString(){location.hash="";var n={xml:xmlConfigPath,installer:setupPath},t=$.param(n);location.hash=t}function generateXML(){$.ajax({type:"POST",url:ServerSide.GenerateXML,data:{buildName:buildID,languageList:languages,uiLanguage:primaryLanguage},traditional:!0,success:function(n){xmlConfigPath=n.xml;exePath=n.exe;setupPath=n.setup;manifestPath=n.manifest;window.open(exePath+"?xml="+xmlConfigPath+"&installer="+setupPath);$("#directDL").attr({target:"_blank",href:exePath});buildQueryString();showModal("downloadModal")},error:function(n){$("#errorMessage").removeClass("hidden");$("#errorText").text(n.responseText)}})}function showModal(n){$(".custom-Dialog").removeClass("hidden").addClass("hidden");$("#"+n).removeClass("hidden");n==="downloadModal"&&$("#directDL").text(versionToInstall+" click here");n==="productModal"&&(resetFilters(),$("#buildsTable").empty(),$("#buildsGrid").empty(),$("#languageButton").prop("disabled","true"),getBuild())}function resetFilters(){searchBoxTaggle.removeAll();appliedFilters=[];$(searchBoxTaggle.getInput()).val("");searchBoxFilter();$("#ul-Location li:first").click()}function verifyLanguageInput(){sl=$("input[name=radio1]:checked");sl.length>0?$("#languageButton").prop("disabled",!1):$("#languageButton").prop("disabled",!0)}function getLanguages(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){$("#languagesGrid div").remove();$xml=$(n);var t=$xml.find("[ID='"+buildID+"']").attr("Languages").split(",");$.each(t,function(n,t){var r=t,i=t.split(" ").pop().replace(")","").replace("(","");i!==primaryLanguage&&$("#languagesGrid ").append("<div class='ms-Grid-col ms-u-sm6 ms-u-md6 ms-u-lg3 ms-u-xl3 languageli'><label><input type='checkbox' id='"+i+"' class='languageCheckBox' />                                     <span class='ms-font-m checkboxLabel'>"+r+"<\/span><\/label><\/div>")})}})}function getPrimaryLanguages(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){$("#primaryLanguagesGrid div").remove();$xml=$(n);var t=$xml.find("[ID='"+buildID+"']").attr("Languages").split(",");$.each(t,function(n,t){var r=t,i=t.split(" ").pop().replace(")","").replace("(","");$("#primaryLanguagesGrid").append("<div class='ms-Grid-col ms-u-sm6 ms-u-md6 ms-u-lg3 ms-u-xl3 ms-ChoiceField '>                        <input id='"+i+"' class='ms-ChoiceField-input' type='radio' name='radio1' value='"+i+"'onclick='verifyLanguageInput()'>                        <label for='"+i+"' class='ms-ChoiceField-field'><span class='ms-Label' >"+r+"<\/span><\/label>                        <\/div>")})}})}function getBuild(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){listView===1&&($("#buildsTable").empty(),$("#buildsTable").append("<div class='ms-Table-row'>                            <span class='ms-Table-cell custom-cell' style='padding-left:4%'>Name<\/span>                            <span class='ms-Table-cell custom-cell' style=''>Location<\/span>                            <span class='ms-Table-cell custom-cell'>Tags<\/span>                            <span class='ms-Table-cell custom-cell'><\/span>                            <\/div>"));$(n).find("Build").each(function(){var r=$(this).attr("Type"),n=$(this).attr("Filters").split(","),t="",i="";listView===1?(Array.isArray(n)?n.forEach(function(n){t+=n.toLocaleLowerCase().replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter ";i+=" "+n+","}):n&&(t+=n.replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter ",i+=" "+element+","),$("#buildsTable").append("<div class='ms-Table-row custom-table-row shown "+$(this).attr("Location").toLocaleLowerCase().replace(/\W+/g," ").replace(/\ /g,"-")+"-filter "+t+"location-filter "+r.toLowerCase().replace(/\ /g,"-").replace(/\W+/g,"-")+"-filter'>                            <span class='ms-Table-cell ms-font-l custom-first-cell custom-cell filter-field'><i class='ms-Icon ms-Icon--people package-people-table'><\/i>"+r+"<\/span>                            <span class='ms-Table-cell custom-cell'>"+$(this).attr("Location")+"<\/span>                            <span class='ms-Table-cell custom-cell'><i class='ms-Icon ms-Icon--tag custom-table-tag'><\/i>"+i+"<\/span>                            <span class='ms-Table-cell custom-cell custom-last-cell' onclick='setProduct(\"2016\",\""+$(this).attr("ID")+"\")'><i class='ms-Icon ms-Icon--download custom-table-tag' ><\/i><a class='ms-link'>Install<\/a><\/span>                        <\/div>")):(Array.isArray(n)?n.forEach(function(n){t+=n.toLocaleLowerCase().replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter ";i+="<li class='ms-font-m "+t+"'>"+n+"<\/li>"}):n&&(t+=n.replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter ",i+="<li class='ms-font-m "+t+"'>"+n+"<\/li>"),$("#buildsGrid").append("<div class='ms-Grid-col ms-u-sm12 ms-u-md6 ms-u-lg4 ms-u-xl3  package-group shown "+$(this).attr("Location").toLocaleLowerCase().replace(/\W+/g," ").replace(/\ /g,"-")+"-filter "+t+" location-filter "+r.toLowerCase().replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter'>                                                        <div id='custom-callout' class='ms-Callout ms-Callout--OOBE ms-Callout--arrowLeft hidden'>                                                            <div class='ms-Callout-main'>                                                                <div class='ms-Callout-header custom-callout-header'>                                                                    <i class='ms-Icon ms-Icon--x custom-x' onclick='closeCallout(event)'><\/i>                                                                    <div class='ms-Callout-title ms-font-xl ms-fontWeight-regular'>Tags<\/div>                                                                <\/div>                                                                <div class='ms-Callout-inner custom-callout-inner'>                                                                    <div class='ms-Callout-content'>                                                                        <ul id='tags-list' class='tags-list'>"+i+"                                                                        <\/ul>                                                                    <\/div>                                                                <\/div>                                                            <\/div>                                                        <\/div>                                                         <div class='package package-main'>                                                         <div class='ms-Grid-row package-inner'>                                                            <div class='ms-Grid-col ms-u-sm2 ms-u-md4 ms-u-lg2 ms-u-xl1'>                                                                <i class='ms-Icon ms-Icon--people package-people'><\/i>                                                            <\/div>                                                            <div class='ms-Grid-col ms-u-sm6 ms-u-smPush4 ms-u-md4 ms-u-mdPush2 ms-u-lg4 ms-u-lgPush4 ms-u-xl3 ms-u-xlPush4'>                                                                 <div class='ms-Grid'>                                                                    <div class='ms-Grid-row'>                                                                        <p class='ms-font-l type-label filter-field'>"+r+"<\/b><\/p><br />                                                                    <\/div>                                                                    <div class='ms-Grid-row'>                                                                        <p class='location-label filter-field' >"+$(this).attr("Location")+"<\/p>                                                                    <\/div>                                                                <\/div>                                                            <\/div>                                                            <div style='display:relative;' class='ms-Grid-col ms-u-sm1 ms-u-smPush3 ms-u-md1 ms-u-mdPush3 ms-u-lg1 ms-u-lgPush5 ms-u-xl1 ms-u-xlPush7'>                                                                <i id='calloutTag' class='ms-Icon ms-Icon--tag package-tag' onclick='toggleCallout(event)'><\/i>                                                            <\/div>                                                        <\/div>                                                        <div class='ms-Grid-row'>                                                            <span class='package-bottom' onclick='setProduct(\"2016\",\""+$(this).attr("ID")+"\")'>                                                                <i class=' ms-Icon ms-Icon--download package-download'><\/i>                                                                <a class=' ms-font-m ms-link'>Install<\/a>                                                            <\/span>                                                        <\/div>                                                    <\/div>                                                <\/div>                                             <\/div>"))})}})}function toggleCallout(n){$(n.target).toggleClass("callout-open");$(n.target).parents().eq(3).find("#custom-callout").toggleClass("hidden")}function closeCallout(n){$(n.target).parents().eq(3).find("#calloutTag").toggleClass("callout-open");$(n.target).parents().eq(3).find("#custom-callout").addClass("hidden")}function getLocations(n){var t=[];$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(i){$("#ddl-Location").siblings("span.ms-Dropdown-title").text("Location");$("#ddl-Location").siblings("ul").append("<li class='ms-Dropdown-item'>Location<\/li>");$(i).find("Build").each(function(){var n=$(this).attr("Location");$.inArray(n,t)===-1&&(availableFilters.push(n.replace(/\,/g," ")),t.push(n),$("#ddl-Location").siblings("ul").attr("id","ul-Location"),$("#ddl-Location").siblings("ul").append("<li class='ms-Dropdown-item'>"+n+"<\/li>"))});updateAutocomplete();n()}})}function getFilters(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){$(n).find("Build").each(function(){var n=$(this).attr("Filters").split(","),t=$(this).attr("Type");t&&availableFilters.indexOf(t.toLocaleLowerCase())<0&&availableFilters.push(t.toLocaleLowerCase());Array.isArray(n)?n.forEach(function(n){availableFilters.indexOf(n.toLocaleLowerCase())<0&&availableFilters.push(n.toLocaleLowerCase())}):n&&availableFilters.indexOf(n.toLocaleLowerCase())<0&&availableFilters.push(n.toLocaleLowerCase())});updateAutocomplete()}})}function getHelp(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){$(n).find("Help").find("Item").each(function(){var n=$(this).find("Question").text(),t=$(this).find("Answer").text();$("#helpContent").append("<div class='questionDiv'>                        <h4 class='ms-font-xl'>"+n+"<\/h4>                        <p class='ms-font-m questionAnswer'>"+t+"<\/p>                    <\/div>")})}})}function getCompanyInfo(){$.ajax({type:"GET",url:"SelfServiceConfig.xml",datatype:"xml",success:function(n){$(n).find("Company").each(function(){$(".companyName").text($(this).attr("Name"));$(this).attr("LogoSrc")?$(".companyLogo").src($(this).attr("LogoSrc")):$(".companyLogo").addClass("hidden")})}})}function searchBoxFilter(){var n=searchBoxTaggle.getInput().value;n=n.toLocaleLowerCase();listView===0?($(".package-group").removeClass("search-filter"),removeFilter("search"),n?($(".package-main p").each(function(){var t=$(this).parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&$(t).attr("class").indexOf("hidden")>=0&&$(t).addClass("search-filter")}),$(".type-label").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&$(t).attr("class").indexOf("hidden")<0&&$(t).addClass("search-filter")}),$(".tags-list li").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&$(t).attr("class").indexOf("hidden")<0&&$(t).addClass("search-filter")}),$(".location-label").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&$(t).attr("class").indexOf("hidden")<0&&$(t).addClass("search-filter")}),addFilter("search")):n===""&&$(".taggle_list").children(".taggle").length>0?($(".taggle_list").children(".taggle").each(function(){var n=$(this).children("input")[0].value;$(".package-main p").each(function(){var t=$(this).parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&($(t).addClass("search-filter"),$(t).removeClass("hidden"))});$(".type-label").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&($(t).addClass("search-filter"),$(t).removeClass("hidden"))});$(".tags-list li").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&($(t).addClass("search-filter"),$(t).removeClass("hidden"))});$(".location-label").each(function(){var t=$(this).parent().parent().parent().parent().parent().parent();$(this).text().toLocaleLowerCase().indexOf(n)>=0&&($(t).addClass("search-filter"),$(t).removeClass("hidden"))})}),$("#ul-Location").children("li").each(function(){$(this).attr("class").indexOf("is-selected")>=0&&$(this).click()}),addFilter("search")):($(".package-main p").each(function(){var n=$(this).parent().parent().parent();$(n).removeClass("search-filter");$(n).removeClass("hidden")}),$(".type-label").each(function(){var n=$(this).parent().parent().parent().parent().parent().parent();$(n).removeClass("search-filter");$(n).removeClass("hidden")}),$(".tags-list li").each(function(){var n=$(this).parent().parent().parent().parent().parent().parent();$(n).removeClass("search-filter");$(n).removeClass("hidden")}),$(".location-label").each(function(){var n=$(this).parent().parent().parent().parent().parent().parent();$(n).removeClass("search-filter");$(n).removeClass("hidden")}),$("#ul-Location").children("li").each(function(){$(this).attr("class").indexOf("is-selected")>=0&&$(this).click()}))):($(".custom-table-row").removeClass("search-filter"),removeFilter("search"),n&&($(".custom-table-row span").each(function(){$(this).text().toLocaleLowerCase().indexOf(n)>=0&&$(this).parent().attr("class").indexOf("hidden")<0&&$(this).parent().addClass("search-filter")}),addFilter("search")),$("#ul-Location").children("li").each(function(){$(this).attr("class").indexOf("is-selected")>=0&&$(this).click()}));applyFilters()}function setTaggleFilters(){taggles=searchBoxTaggle.getTagValues();taggles.forEach(function(n){addFilter(n)});applyFilters()}function locationFilter(n){n&&(removeFilter(currentLocation),n.toLocaleLowerCase().indexOf("filter")<0&&addFilter(n),applyFilters());currentLocation=n}function addFilter(n){appliedFilters.indexOf(n.replace(/\W+/g,"-").replace(/\ /g,"-"))===-1&&appliedFilters.push(n)}function applyFilters(){var n;listView===0?(n=".package-group",appliedFilters.forEach(function(t){n+="."+t.replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter"}),$(".package-group").addClass("hidden"),$(n).removeClass("hidden").addClass("shown")):(n=".custom-table-row",appliedFilters.forEach(function(t){n+="."+t.replace(/\W+/g,"-").replace(/\ /g,"-")+"-filter"}),$(".custom-table-row").addClass("hidden"),$(n).removeClass("hidden").addClass("shown"))}function removeFilter(n){appliedFilters.splice(appliedFilters.indexOf(n),1)}function addLocationClick(){$("#ul-Location li").each(function(){$(this).attr("onclick","locationFilter('"+$(this).text().toLocaleLowerCase()+"')")})}function prepTags(){searchBoxTaggle=new Taggle("outerSearchBox",{saveOnBlur:!0,placeholder:"Search",onTagAdd:function(n,t){$(searchBoxTaggle.getInput()).val("");addFilter(t);applyFilters()},onTagRemove:function(n,t){removeFilter(t);applyFilters()}});$(".taggle_placeholder").prepend('<i class="ms-SearchBox-icon ms-Icon ms-Icon--search"><\/i>')}function updateAutocomplete(){jQuery.fn.extend({propAttr:$.fn.prop||$.fn.attr});var n=searchBoxTaggle.getContainer(),t=searchBoxTaggle.getInput();searchBoxTaggle.settings.allowedTags=availableFilters;$(t).autocomplete({source:availableFilters,appendTo:n,position:{at:"left bottom",my:"left top"},select:function(n,t){n.preventDefault();n.which===1&&searchBoxTaggle.add(t.item.value)}})}function isListView(){listView=1;$("#buildsTable").empty();$("#buildsGrid").empty();resetFilters();$("#tileViewToggle").attr("background-color","#EFF6FC");$("#listViewToggle").attr("background-color","#C7E0F4");getBuild()}function isTileView(){listView=0;$("#buildsTable").empty();$("#buildsGrid").empty();$("#tileViewToggle").attr("background-color","#C7E0F4");$("#listViewToggle").attr("background-color","#EFF6FC");resetFilters();getBuild()}function focusDialog(){$("html,body").animate({scrollTop:$(".custom-mini-banner").offset().top+500},500)}function toggleBanner(){$("#banner").toggleClass("hidden");$("#mini-banner").toggleClass("hidden")}function closeDialog(){$("#errorMessage").addClass("hidden")}function directDL(){window.location.href=xmlConfigPath}var productToInstall="",versionToInstall="",languages="",languageDictionary={English:"en-us",Arabic:"ar-sa",Bulgarian:"bg-bg","Chinese (Simplified)":"zh-cn",Chinese:"zh-tw",Croatian:"hr-hr",Czech:"cs-cz",Croatian:"hr-hr",Danish:"da-dk",Estonian:"et-ee",Finnish:"fi-fi",French:"fr-fr",German:"de-de",Greek:"el-gr",Hebrew:"he-il",Hindi:"hi-in",Hungarian:"hu-hu",Indonesian:"id-id",Italian:"it-it",Japanese:"ja-jp",Kazakh:"kk-kh",Korean:"ko-kr",Latvian:"lv-lv",Lithuanian:"lt-lt",Malay:"ms-my","Norwegian (Bokm�l)":"nb-no",Polish:"pl-pl","Portuguese (Brazil)":"pt-br","Portuguese (Portugal)":"pt-pt",Romanian:"ro-ro",Russian:"ru-ru","Serbian (Latin)":"sr-latn-rs",Slovak:"sk-sk",Slovenian:"sl-si",Spanish:"es-es",Swedish:"sv-se",Thai:"th-th",Turkish:"tr-tr",Ukrainian:"uk-ua","en-us":"English","ar-sa":"Arabic","bg-bg":"Bulgarian","zh-cn":"Chinese (Simplified)","zh-tw":"Chinese","hr-hr":"Croatian","cs-cz":"Czech","hr-hr":"Croatian","da-dk":"Danish","et-ee":"Estonian","fi-fi":"Finnish","fr-fr":"French","de-de":"German","el-gr":"Greek","he-il":"Hebrew","hi-in":"Hindi","hu-hu":"Hungarian","id-id":"Indonesian","it-it":"Italian","ja-jp":"Japanese","kk-kh":"Kazakh","ko-kr":"Korean","lv-lv":"Latvian","lt-lt":"Lithuanian","ms-my":"Malay","nb-no":"Norwegian (Bokm�l)","pl-pl":"Polish","pt-br":"Portuguese (Brazil)","pt-pt":"Portuguese (Portugal)","ro-ro":"Romanian","ru-ru":"Russian","sr-latn-rs":"Serbian (Latin)","sk-sk":"Slovak","sl-si":"Slovenian","es-es":"Spanish","sv-se":"Swedish","th-th":"Thai","tr-tr":"Turkish","uk-ua":"Ukrainian"},availableFilters=[],searchBoxTaggle,primaryLanguage,currentLocation,currentFilter,listView=0,xmlConfigPath,exePath,setupPath,manifestPath,appliedFilters=[],previousSearch="";$(document).ready(function(){setVersion("2016");getCompanyInfo();getLocations(addLocationClick);getFilters();getBuild();getHelp();$("#outerSearchBox").keyup(function(n){(n.keyCode>=48&&n.keyCode<=57||n.keyCode>=65&&n.keyCode<=90||n.keyCode==8)&&searchBoxFilter(n)});prepTags()});
//# sourceMappingURL=ss.min.js.map
